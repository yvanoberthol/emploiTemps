<section class="section-content padding-y-sm spacer" loading="vm.loading">

    <div class="container">

        <header class="section-heading ">
            <div layout="row" layout-align="space-between center">
                <div >
                    <h4 class="title-section bg text-uppercase" translate="myApp.trimestre.home.title">Trimestres</h4>
                </div>

                <div>
                    <button class="btn btn-primary btn-raised btn-sm" ui-sref="trimestre.new">
                            <span translate="myApp.trimestre.home.createLabel">
                                Create new trimestre
                            </span>
                    </button>
                </div>
            </div>
        </header>

        <div class="spacer">

            <table ng-table="vm.tableParams" class="ng-table-responsive table table-condensed table-striped">

                <tr ng-repeat="trimestre in $data track by $index"  ng-dblclick="vm.editTrimestre(trimestre.id)" ng-class="{enabled: trimestre.id === vm.selectedTrimestreId}">

                    <td data-title="'#'">
                    <span class="small">
                        {{ ((vm.tableParams.page() - 1) * vm.tableParams.count()) + $index + 1}}
                    </span>
                    </td>

                    <td data-title="'myApp.trimestre.label' | translate"  sortable="'name'">
                        <span class="small">
                           {{trimestre.name}}
                        </span>
                    </td>

                    <td data-title="'myApp.trimestre.rank' | translate"  sortable="'rank'">
                        <span class="small">
                           {{trimestre.rank}}
                        </span>
                    </td>

                    <td data-title="'myApp.trimestre.sequences' | translate">
                    <span class="small" layout="column">
                        <span ng-repeat="sequence in trimestre.sequences" layout="row" layout-align="space-between center">
                            {{sequence.name}} [{{sequence.weight}}%]
                            <span> &nbsp;</span>

                            <span class="text-nowrap">
                                <a ui-sref="trimestre.edit-sequence({sequenceId:sequence.id})" class="">
                                    <span>
                                        <span class="small text-info" translate="entity.action.edit"></span>
                                    </span>
                                </a>
                                <span> &nbsp;</span>
                                <span> &nbsp;</span>
                                <a ui-sref="trimestre.delete-sequence({sequenceId:sequence.id})" class="">
                                    <span>
                                       <span class="small text-danger" translate="entity.action.delete"></span>
                                    </span>
                                </a>
                            </span>
                        </span>
                    </span>
                    </td>

                    <td data-title="">
                    </td>

                    <!--<td data-title="'myApp.trimestre.enabled' | translate" width="10%" class="">
                        <span ng-class="{'badge-success': trimestre.enabled, 'badge-danger': !trimestre.enabled}"
                            class="badge clickable" ng-click="vm.updateEnabled(trimestre)">
                            <span ng-if="trimestre.enabled" translate="myApp.trimestre.yes"></span>
                            <span ng-if="!trimestre.enabled" translate="myApp.trimestre.no"></span>
                        </span>
                    </td>-->


                    <td width="15%" class="text-right">
                        <span class="text-nowrap">
                         <a ui-sref="trimestre.new-sequence({trimestreId:trimestre.id})" class="btn btn-primary btn-sm">
                            <span>
                                <span class="small">Ajouter SÃ©quence</span>
                            </span>
                        </a>
                        <span> &nbsp;</span>
                        <a ui-sref="trimestre.edit({trimestreId:trimestre.id})" class="btn btn-info btn-sm">
                            <span>
                                <span class="small" translate="entity.action.edit"></span>
                            </span>
                        </a>
                        <span> &nbsp;</span>
                        <a ui-sref="trimestre.delete({trimestreId:trimestre.id})" class="btn btn-danger btn-sm">
                            <span>
                               <span class="small" translate="entity.action.delete"></span>
                            </span>
                        </a>
                    </span>
                    </td>
                </tr>
            </table>
        </div> <!-- card.// -->

    </div> <!-- container .//  -->

</section>


